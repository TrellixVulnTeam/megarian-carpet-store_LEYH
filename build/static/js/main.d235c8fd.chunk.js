(this["webpackJsonpmegarian-carpet"]=this["webpackJsonpmegarian-carpet"]||[]).push([[0],{114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){},119:function(e,t,c){},122:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},147:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(29),s=c.n(r),i=(c(97),c(85)),j=c(7),l=(c(98),c(99),c(87)),d=c.n(l),o=c(20),u=c(3),b=Object(a.createContext)(),O=function(e){var t=e.reducer,c=e.initialState,n=e.children;return Object(u.jsx)(b.Provider,{value:Object(a.useReducer)(t,c),children:n})},h=function(){return Object(a.useContext)(b)},p=c(59);p.a.initializeApp({apiKey:"AIzaSyAHJNYfP5d9SJFLMH0h3m5klew7F2fkz5M",authDomain:"megarian-carpet.firebaseapp.com",databaseURL:"https://megarian-carpet-default-rtdb.firebaseio.com/",projectId:"megarian-carpet",storageBucket:"megarian-carpet.appspot.com",messagingSenderId:"554885079723",appId:"1:554885079723:web:bc12a7f75f46adf69d4dee"});var x=p.a.firestore(),m=p.a.auth(),g=p.a.database(),v=c(44),f=c(33),A=c(31);var S=function(){var e=h(),t=Object(j.a)(e,2),c=t[0],a=c.basket,n=c.user,r=t[1];return Object(u.jsx)(v.a,{collapseOnSelect:!0,expand:"sm",bg:"white",variant:"light",fixed:"top",className:"navhome",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(v.a.Brand,{children:Object(u.jsx)(o.b,{to:"/",children:Object(u.jsx)("img",{alt:"megarian carpet logo",src:"data:image/png;base64,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"})})}),Object(u.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(v.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(u.jsxs)(A.a,{children:[Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(A.a.Link,{children:Object(u.jsx)(o.b,{to:"/Store",children:"Store"})})}),n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(A.a.Link,{children:Object(u.jsx)(o.b,{to:"/Orders",children:"Orders"})})}),Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(A.a.Link,{children:Object(u.jsx)("div",{onClick:function(){n&&(m.signOut(),r({type:"LOG_OUT",userL:null}))},children:Object(u.jsx)("p",{className:"signout",children:"Sign Out"})})})})]}):Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(A.a.Link,{to:"./login",children:Object(u.jsx)(o.b,{to:"./login",children:Object(u.jsx)("p",{children:"Sign In"})})})}),Object(u.jsx)(A.a.Item,{children:Object(u.jsx)(A.a.Link,{children:Object(u.jsx)(o.b,{to:"/Checkout",className:"checkoutheader",children:Object(u.jsxs)("span",{children:[Object(u.jsx)(d.a,{className:"header_icon"}),null===a||void 0===a?void 0:a.length]})})})})]})})]})})},y=(c(114),c.p+"static/media/RC1.5b41060b.png"),N=c.p+"static/media/RC2.19ac6470.png",k=c.p+"static/media/RC3.074bb720.png",C=c.p+"static/media/RC4.48cbad49.png",Q=c.p+"static/media/RC5.0d663a16.png",q=c(35);var P=function(){return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)(q.a,{variant:"dark",interval:5e3,fade:"true",style:{padding:"0",height:"100%",margin:"0"},children:[Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"d-block w-100",src:y,alt:"First slide"})}),Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"d-block w-100 h-100",src:N,alt:"First slide"})}),Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"d-block w-100",src:k,alt:"First slide"})}),Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"d-block w-100",src:C,alt:"Second slide"})}),Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"d-block w-100",src:Q,alt:"Third slide"})})]}),Object(u.jsxs)(f.a,{bsPrefix:"homeContainer",children:[Object(u.jsxs)("h2",{children:["Megarian Carpet ",Object(u.jsx)("br",{}),"Store"]}),Object(u.jsx)(o.b,{to:"/Store",children:Object(u.jsx)("button",{className:"shop_button",children:Object(u.jsx)("span",{className:"shop_home",children:"Shop Now"})})})]})]})},B=(c(115),c(116),c(52)),E=c(88);function D(e){var t=e.image;return Object(u.jsxs)(q.a,{interval:null,style:{width:"100%",padding:"0rem",height:"100%"},children:[t.map((function(e){return Object(u.jsx)(q.a.Item,{style:{height:"100%"},children:Object(u.jsx)("img",{className:"x-block",src:e,alt:"slide"})})})),";"]})}var T=function(e){var t=e.id,c=e.title,a=e.image,n=e.description,r=e.price,s=h(),i=Object(j.a)(s,2),l=(i[0],i[1]);return Object(u.jsxs)(B.a,{className:"text-center",text:"dark",bg:"light",style:{margin:"1em",border:"1px solid black"},children:[D({image:a}),Object(u.jsxs)(B.a.Body,{children:[Object(u.jsx)(B.a.Title,{children:c}),Object(u.jsx)(B.a.Text,{children:n}),Object(u.jsxs)(B.a.Text,{children:["$",r]}),Object(u.jsx)(E.a,{size:"lg",className:"basketbtn",onClick:function(){l({type:"ADD_TO_BASKET",item:{id:t,title:c,image:a,price:r}})},variant:"dark",children:"Add to Basket"})]})]})};var R=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){g.ref("Rug").on("value",(function(e){var t=e.val();n(t)}))}),[]),Object(u.jsx)(f.a,{fluid:"xl",children:Object(u.jsx)("div",{className:"store_grid",children:Object(u.jsxs)(u.Fragment,{children:[c.map((function(e){return Object(u.jsx)(T,{id:e.RugID,title:e.RugID,image:e.Images,description:"carpet description",price:e.Cost})})),";"]})})})};c(117),c(118);var U=function(e){var t=e.id,c=e.image,a=e.title,n=e.price,r=e.hideButton,s=h(),i=Object(j.a)(s,2)[1];return Object(u.jsxs)("div",{className:"CheckoutProduct",children:[Object(u.jsxs)("div",{className:"productch1",children:[Object(u.jsx)("p",{className:"checkoutProduct_title",children:a}),Object(u.jsx)("img",{className:"checkoutProduct_image",src:c,alt:""})]}),Object(u.jsxs)("div",{className:"checkoutProduct_info",children:[Object(u.jsxs)("p",{className:"checkoutProduct_price",children:["$ ",Object(u.jsx)("strong",{children:n})]}),!r&&Object(u.jsx)("button",{className:"remove",onClick:function(){i({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})]})]})},L=(c(119),c(49)),V=c.n(L),w=c(57),F=c(4),W=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},Z=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(F.a)(Object(F.a)({},e),{},{basket:[].concat(Object(w.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(F.a)(Object(F.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),a=Object(w.a)(e.basket);return c>=0?a.splice(c,1):console.warn("cant remove product (id: ".concat(t.id," as it is not in the basket!")),Object(F.a)(Object(F.a)({},e),{},{basket:a});case"SET_USER":return Object(F.a)(Object(F.a)({},e),{},{user:t.user});case"SET_USERL_INFO":return Object(F.a)(Object(F.a)({},e),{},{userL:t.userL});case"LOG_OUT":return Object(F.a)(Object(F.a)({},e),{},{userL:null});default:return e}},H=c(15);var I=function(){var e=Object(H.f)(),t=h(),c=Object(j.a)(t,1)[0].basket;return Object(u.jsxs)("div",{className:"subtotal",children:[Object(u.jsx)(V.a,{renderText:function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("span",{className:"total",children:["Subtotal:",Object(u.jsx)("strong",{children:e})]})})},decimalScal:2,value:W(c),displayType:"text",thousandSeparator:!0,decimalScale:2,prefix:"$"}),Object(u.jsx)("button",{onClick:function(t){return e.push("/payment")},children:"Proceed to Checkout"})]})};var G=function(){var e=h(),t=Object(j.a)(e,1)[0],c=t.basket,a=t.user;return Object(u.jsxs)("div",{className:"checkout",children:[Object(u.jsx)("h2",{className:"checkout_title",children:a?Object(u.jsxs)("p",{children:[null===a||void 0===a?void 0:a.email,"'s' Shopping Basket  (",c.length," items)"]}):Object(u.jsxs)("p",{children:["Shopping Basket  (",c.length," items)"]})}),Object(u.jsx)("div",{class:"checkout_left",children:c.map((function(e){return Object(u.jsx)(U,{id:e.id,title:e.title,image:e.image,price:e.price})}))}),Object(u.jsx)("div",{className:"checkout_right",children:Object(u.jsx)(I,{})})]})};c(75);var K=function(){var e=Object(H.f)(),t=Object(a.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],d=i[1];return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"login_box",children:[Object(u.jsx)("h1",{children:"sign in"}),Object(u.jsxs)("form",{className:"login_form",children:[Object(u.jsx)("h4",{children:"E-mail:"}),Object(u.jsx)("input",{type:"email",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(u.jsx)("h4",{children:"Password:"}),Object(u.jsx)("input",{type:"password",value:l,onChange:function(e){return d(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"signin_button",onClick:function(t){t.preventDefault(),m.signInWithEmailAndPassword(n,l).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},children:"Sign in"})]}),Object(u.jsx)(o.b,{to:"/Register",children:Object(u.jsx)("p",{children:"Or Click Here To Register"})})]})})},z=c(58),M=c.n(z),Y=c(72),J=(c(122),c(43)),X=c(89),_=c.n(X).a.create({baseURL:"https://us-central1-megarian-carpet.cloudfunctions.net/api"});var $=function(){var e=h(),t=Object(j.a)(e,2),c=t[0],n=c.basket,r=c.user,s=c.userL,i=t[1],l=Object(H.f)(),d=Object(J.useStripe)(),b=Object(J.useElements)(),O=Object(a.useState)(null),p=Object(j.a)(O,2),m=p[0],g=p[1],v=Object(a.useState)(!0),f=Object(j.a)(v,2),A=f[0],S=f[1],y=Object(a.useState)(!0),N=Object(j.a)(y,2),k=N[0],C=N[1],Q=Object(a.useState)(!1),q=Object(j.a)(Q,2),P=q[0],B=q[1],E=Object(a.useState)(""),D=Object(j.a)(E,2),T=D[0],R=D[1];Object(a.useEffect)((function(){(function(){var e=Object(Y.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({method:"post",url:"/payments/create?total=".concat(100*W(n))});case 2:t=e.sent,C(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),console.log("the secret is ",k);var L=function(){var e=Object(Y.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R(!0),e.next=4,d.confirmCardPayment(k,{payment_method:{card:b.getElement(J.CardElement)}}).then((function(e){var t=e.paymentIntent;x.collection("users").doc(null===r||void 0===r?void 0:r.uid).collection("orders").doc(t.id).set({basket:n,amount:t.amount,created:t.created}),B(!0),g(null),R(!1),i({type:"EMPTY_BASKET"}),l.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"payment",children:Object(u.jsxs)("div",{className:"payment_container",children:[Object(u.jsxs)("h1",{children:["CheckOut (",Object(u.jsxs)(o.b,{to:"/checkout",children:[null===n||void 0===n?void 0:n.length," items"]}),")"]}),Object(u.jsxs)("div",{className:"payment_section",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"Delivery Adress"})}),Object(u.jsxs)("div",{className:"payment_adress",children:[Object(u.jsxs)("p",{children:[null===s||void 0===s?void 0:s.firstName," ",null===s||void 0===s?void 0:s.lastName]}),Object(u.jsx)("p",{children:null===s||void 0===s?void 0:s.adress.street}),Object(u.jsxs)("p",{children:[null===s||void 0===s?void 0:s.adress.city,", ",null===s||void 0===s?void 0:s.adress.State]}),Object(u.jsxs)("p",{children:[null===s||void 0===s?void 0:s.adress.zipCode,null===s||void 0===s?void 0:s.adress.country]})]})]}),Object(u.jsxs)("div",{className:"payment_section2",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"Review items and Delivery"})}),Object(u.jsx)("div",{className:"payment_items",children:n.map((function(e){return Object(u.jsx)(U,{id:e.id,title:e.title,image:e.image.image,price:e.price})}))})]}),Object(u.jsxs)("div",{className:"payment_section",children:[Object(u.jsx)("div",{className:"payment_title",children:Object(u.jsx)("h3",{children:"payment Method"})}),Object(u.jsx)("div",{className:"payment_details",children:Object(u.jsxs)("form",{className:"form",onSubmit:L,children:[Object(u.jsx)(J.CardElement,{onChange:function(e){S(e.empty),g(e.error?e.error.message:"")}}),Object(u.jsxs)("div",{className:"payment_priceContainer",children:[Object(u.jsx)(V.a,{renderText:function(e){return Object(u.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:W(n),thousandSeparator:!0,displayType:"text",prefix:"$"}),Object(u.jsx)("button",{disabled:T||A||P,children:Object(u.jsx)("span",{children:T?Object(u.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),m&&Object(u.jsx)("div",{children:m})]})})]})]})})};c(141);var ee=function(){return Object(u.jsx)(v.a,{bg:"white",variant:"light",fixed:"bottom",style:{height:"65px"},children:Object(u.jsxs)(f.a,{style:{textAlign:"center",justifyContent:"space-evenly",paddingTop:"8px"},children:[Object(u.jsxs)("p",{children:["Contact ",Object(u.jsx)("br",{}),"Us"]}),Object(u.jsxs)("p",{children:["Adress: ",Object(u.jsx)("br",{}),"123 street road"]}),Object(u.jsxs)("p",{children:["Phone: ",Object(u.jsx)("br",{}),"(123) 456-7890"]})]})})},te=c(90),ce=(c(142),c(143),c(91)),ae=c.n(ce);var ne=function(e){var t,c=e.order;return Object(u.jsxs)("div",{className:"order",children:[Object(u.jsx)("h2",{children:"Order"}),Object(u.jsx)("p",{children:ae.a.unix(c.data.created).format("MMMM Do YYYY, h:mma")}),Object(u.jsx)("p",{children:Object(u.jsx)("small",{children:c.id})}),null===(t=c.data.basket)||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(U,{id:e.id,title:e.title,image:e.image.image,price:e.price,hideButton:!0})})),Object(u.jsx)(V.a,{renderText:function(e){return Object(u.jsxs)("h3",{className:"order_total",children:["Order Total: ",e]})},decimalScal:2,value:c.data.amount/100,displayType:"text",thousandSeparator:!0,decimalScale:2,prefix:"$"})]})};var re=function(){var e=h(),t=Object(j.a)(e,1)[0].user,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){t?x.collection("users").doc(null===t||void 0===t?void 0:t.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,image:e.image,data:e.data()}})))})):s([])}),[t]),Object(u.jsxs)("div",{className:"orders",children:[Object(u.jsx)("h1",{children:"Your Orders"}),Object(u.jsx)("div",{className:"orders_order",children:null===r||void 0===r?void 0:r.map((function(e){return Object(u.jsx)(ne,{order:e})}))})]})};c(145);var se=function(){var e=h(),t=Object(j.a)(e,2),c=t[0],n=(c.state,c.user,t[1]),r=Object(H.f)(),s=Object(a.useState)(""),i=Object(j.a)(s,2),l=i[0],d=i[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),O=b[0],p=b[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),v=g[0],A=g[1],S=Object(a.useState)(""),y=Object(j.a)(S,2),N=y[0],k=y[1],C=Object(a.useState)(""),Q=Object(j.a)(C,2),q=Q[0],P=Q[1],B=Object(a.useState)(""),E=Object(j.a)(B,2),D=E[0],T=E[1],R=Object(a.useState)(""),U=Object(j.a)(R,2),L=U[0],V=U[1],w=Object(a.useState)(""),F=Object(j.a)(w,2),W=F[0],Z=F[1],I=Object(a.useState)(""),G=Object(j.a)(I,2),K=G[0],z=G[1],M=Object(a.useState)(""),Y=Object(j.a)(M,2),J=Y[0],X=Y[1];return Object(u.jsx)(f.a,{style:{margin:"auto"},children:Object(u.jsxs)("div",{className:"register",children:[Object(u.jsx)("h1",{children:"Register"}),Object(u.jsxs)("form",{className:"register_form",children:[Object(u.jsx)("h4",{children:"Name:"}),Object(u.jsx)("input",{type:"text",required:!0,placeholder:"First Name",value:v,onChange:function(e){return A(e.target.value)}}),Object(u.jsx)("input",{type:"text",required:!0,placeholder:"Last Name",value:N,onChange:function(e){return k(e.target.value)}}),Object(u.jsx)("h4",{children:"Phone Number"}),Object(u.jsx)("input",{type:"text",placeholder:"(555) 555-5555",onInput:function(e){return function(e){var t=e.target.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);e.target.value=t[2]?"("+t[1]+") "+t[2]+(t[3]?"-"+t[3]:""):t[1]}(e)},onChange:function(e){return P(e.target.value)},required:!0,value:q}),Object(u.jsx)("h4",{children:"E-mail:"}),Object(u.jsx)("input",{type:"email",value:l,onChange:function(e){return d(e.target.value)},required:!0}),Object(u.jsx)("h4",{children:"Password:"}),Object(u.jsx)("input",{type:"password",value:O,onChange:function(e){return p(e.target.value)},required:!0}),Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("h4",{children:"Address"}),Object(u.jsx)("input",{type:"street",class:"form-control",id:"autocomplete",placeholder:"Street",required:!0,value:D,onChange:function(e){return T(e.target.value)}}),Object(u.jsx)("input",{type:"city",class:"form-control",id:"inputCity",placeholder:"City",required:!0,value:L,onChange:function(e){return V(e.target.value)}}),Object(u.jsx)("input",{type:"state",class:"form-control",id:"inputState",placeholder:"State",required:!0,value:W,onChange:function(e){return Z(e.target.value)}}),Object(u.jsx)("input",{type:"zip",class:"form-control",id:"inputZip",placeholder:"Zip",required:!0,value:K,onChange:function(e){return z(e.target.value)}}),Object(u.jsx)("input",{type:"country",class:"form-control",id:"inputCountry",placeholder:"Country",required:!0,value:J,onChange:function(e){return X(e.target.value)}})]}),Object(u.jsx)("button",{className:"register_button",onClick:function(e){e.preventDefault(),n({type:"SET_USERL_INFO",userL:{firstName:"".concat(v),lastName:"".concat(N),phoneNumber:"".concat(q),email:"".concat(l),adress:{street:"".concat(D),city:"".concat(L),State:"".concat(W),zipCode:"".concat(K),country:"".concat(J)}}}),m.createUserWithEmailAndPassword(l,O).then((function(e){console.log(e),e&&r.push("/")})).catch((function(e){return alert(e.message)}))},children:"Register"})]})]})})},ie=(c(84),Object(te.a)("pk_test_51JMfjxK2gc64MwyBFk7E8YqRRzkDiwMhIeFzFtAUU404cPlKzjISnY9zvfbd0LcoHGvyosertrcbxsjhip1GpByp00y1jY8YkG"));var je=function(){var e=h(),t=Object(j.a)(e,2);Object(i.a)(t[0]);var c=t[1];return Object(a.useEffect)((function(){m.onAuthStateChanged((function(e){console.log("the user is: ",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",userL:null,user:null})}))}),[c]),Object(u.jsxs)(o.a,{children:[Object(u.jsx)(S,{}),Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(H.c,{children:[Object(u.jsx)(H.a,{path:"/Orders",children:Object(u.jsx)(re,{})}),Object(u.jsx)(H.a,{path:"/login",children:Object(u.jsx)(K,{})}),Object(u.jsx)(H.a,{path:"/Register",children:Object(u.jsx)(se,{})}),Object(u.jsx)(H.a,{path:"/store",children:Object(u.jsx)(R,{})}),Object(u.jsx)(H.a,{path:"/checkout",children:Object(u.jsx)(G,{})}),Object(u.jsx)(H.a,{path:"/payment",children:Object(u.jsx)(J.Elements,{stripe:ie,children:Object(u.jsx)($,{})})}),Object(u.jsx)(H.a,{path:"/",children:Object(u.jsx)(P,{})})]})}),Object(u.jsx)(ee,{})]})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(O,{initialState:{basket:[],user:null,userL:null},reducer:Z,children:Object(u.jsx)(je,{})})}),document.getElementById("root"))},75:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[147,1,2]]]);
//# sourceMappingURL=main.d235c8fd.chunk.js.map